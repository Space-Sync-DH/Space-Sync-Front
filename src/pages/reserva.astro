---
import { useState } from 'react';

const [reservas, setReservas] = useState([]);
const [comentarios, setComentarios] = useState([]);
const [nuevaReserva, setNuevaReserva] = useState({ sala: '', fecha: '', hora: '' });
const [nuevoComentario, setNuevoComentario] = useState('');

function handleReserva(event) {
  event.preventDefault();
  
  // Agregar la nueva reserva
  setReservas([...reservas, nuevaReserva]);
  setNuevaReserva({ sala: '', fecha: '', hora: '' });
}

function handleComentario(event) {
  event.preventDefault();
  
  // Agregar el nuevo comentario
  setComentarios([...comentarios, nuevoComentario]);
  setNuevoComentario('');
}

function eliminarReserva(index) {
  const updatedReservas = reservas.filter((_, i) => i !== index);
  setReservas(updatedReservas);
}
---

<div class="p-6 bg-gradient-to-r from-teal-500 to-blue-500">
  <h1 class="text-2xl font-bold text-white mb-4">Reservas</h1>
  
  <form onSubmit={handleReserva} class="mb-6">
    <div class="flex space-x-4">
      <input 
        type="text" 
        placeholder="Sala" 
        value={nuevaReserva.sala} 
        onInput={(e) => setNuevaReserva({ ...nuevaReserva, sala: e.target.value })} 
        class="input" 
        required 
      />
      <input 
        type="date" 
        value={nuevaReserva.fecha} 
        onInput={(e) => setNuevaReserva({ ...nuevaReserva, fecha: e.target.value })} 
        class="input" 
        required 
      />
      <input 
        type="time" 
        value={nuevaReserva.hora} 
        onInput={(e) => setNuevaReserva({ ...nuevaReserva, hora: e.target.value })} 
        class="input" 
        required 
      />
      <button type="submit" class="btn">Reservar</button>
    </div>
  </form>

  <h2 class="text-xl font-bold text-white mb-2">Historial de Reservas</h2>
  <ul class="list-disc pl-5 text-white">
    {reservas.map((reserva, index) => (
      <li key={index} class="flex justify-between items-center">
        <span>{reserva.sala} - {reserva.fecha} - {reserva.hora}</span>
        <button onClick={() => eliminarReserva(index)} class="btn btn-delete">Eliminar</button>
      </li>
    ))}
  </ul>

  <form onSubmit={handleComentario} class="mt-6">
    <textarea 
      placeholder="Deja tu comentario" 
      value={nuevoComentario} 
      onInput={(e) => setNuevoComentario(e.target.value)} 
      class="textarea" 
      required 
    ></textarea>
    <button type="submit" class="btn">Enviar Comentario</button>
  </form>

  <h2 class="text-xl font-bold text-white mt-4">Comentarios</h2>
  <ul class="list-disc pl-5 text-white">
    {comentarios.map((comentario, index) => (
      <li key={index}>{comentario}</li>
    ))}
  </ul>
</div>

<style>
.input {
  padding: 0.5rem;
  border-radius: 0.375rem;
  border: 1px solid #ccc;
  width: 100%;
}

.textarea {
  padding: 0.5rem;
  border-radius: 0.375rem;
  border: 1px solid #ccc;
  width: 100%;
  min-height: 100px;
}

.btn {
  background-color: #1f2937;
  color: white;
  padding: 0.5rem 1rem;
  border-radius: 0.375rem;
  cursor: pointer;
}

.btn-delete {
  background-color: #c53030;
  color: white;
  padding: 0.25rem 0.75rem;
  border-radius: 0.375rem;
  cursor: pointer;
}
</style>
